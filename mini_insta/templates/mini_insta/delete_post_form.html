<!-- 
File: delete_post_form.html
Author: Jocelyn Chan (jchan042@bu.edu) 3/01/2026
Description: The page to display the contents of deleting a post
-->

{% extends 'mini_insta/base.html' %}

{% block content %}

<h2>Delete @{{ profile.username }}'s Post</h2>

<div class="post-detail-container">

    <!-- Show the post that's being deleted -->
    <div class="post-left">
        <div class="post-photos">
            {% for photo in post.get_all_photos %}
                <img src="{{ photo.get_image_url }}" alt="Post photo">
            {% empty %}
                <img src="https://png.pngtree.com/png-vector/20221125/ourmid/pngtree-no-image-available-icon-flatvector-illustration-thumbnail-graphic-illustration-vector-png-image_40966590.jpg"
                alt="No image available">
            {% endfor %}
        </div>
    </div>

    <div class="post-right">
        <div class="post-info">
            <p class="post-caption"><b>@{{ profile.username }}: </b>{{ post.caption }}</p>
            <small class="post-timestamp">{{ post.timestamp }}</small>
        </div>

        <hr>

        <p>Are you sure you want to delete this post? This cannot be undone.</p>

        <!-- Confirm deletion via POST to the same delete URL -->
        <div class="form-buttons">
            <form action="{% url 'delete_post' post.pk %}" method="POST">
                {% csrf_token %}
                <input type="submit" value="Delete">
            </form>

            <!-- Confirm cancellation via GET back to profile page -->
            <form action="{% url 'profile' profile.pk %}" method="GET">
                <input type="submit" value="Cancel">
            </form>
        </div>

    </div>
</div>

{% endblock %}